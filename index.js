(function () {var a={data:function(){return{komments:[]}},created:function(){this.load()},methods:{load:function(){var t=this;this.$api.get("komments/queued").then(function(e){t.komments=e})}}};if(typeof a==="function"){a=a.options}Object.assign(a,function(){var render=function(){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c("div",{staticClass:"k-komments"},[_c("k-list",{attrs:{"data-size":"medium"}},_vm._l(_vm.komments,function(komment){return _c("k-list-item",{key:komment.title,attrs:{"link":komment.url+"#komments","info":""+komment.author,"text":komment.title+" - "+komment.komment,"image":{ratio:"1/1",cover:true,back:"pattern",url:komment.image},"target":"_self"}})}),1)],1)};var staticRenderFns=[];return{render:render,staticRenderFns:staticRenderFns,_compiled:true,_scopeId:null,functional:undefined}}());var b={data:function(){return{komments:[]}},created:function(){this.load()},methods:{load:function(){var t=this;this.$api.get("komments/spam").then(function(e){t.komments=e})}}};if(typeof b==="function"){b=b.options}Object.assign(b,function(){var render=function(){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c("div",{staticClass:"k-spam-komments"},[_c("k-list",{attrs:{"data-size":"medium"}},_vm._l(_vm.komments,function(komment){return _c("k-list-item",{key:komment.title,attrs:{"link":komment.url+"#komments","info":""+komment.author,"text":komment.title+" - "+komment.komment,"image":{ratio:"1/1",cover:true,back:"pattern",url:komment.image},"target":"_self"}})}),1)],1)};var staticRenderFns=[];return{render:render,staticRenderFns:staticRenderFns,_compiled:true,_scopeId:null,functional:undefined}}());function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c={data:function(){return{version:"",releaseInfo:{},hasVersionDiff:!1,hasError:!1}},created:function(){this.load()},computed:{},methods:{load:function(){var e=this;this.$api.get("komments/version").then(function(r){e.version=r.version}).then(function(){fetch("https://repo.packagist.org/p/mauricerenck/komments.json",{method:"GET"}).then(function(e){return e.json()}).then(function(r){"error"===r.status&&(e.hasError=!0);var t=e.version.split(".");Object.keys(r.packages["mauricerenck/komments"]).sort().forEach(function(e){var r=e.split(".");if("object"!==g(r))return!1;parseInt(r[0])>parseInt(t[0])&&(t[0]=r[0]),parseInt(r[1])>parseInt(t[1])&&(t[1]=r[1]),parseInt(r[2])>parseInt(t[2])&&(t[2]=r[2])});var o=r.packages["mauricerenck/komments"][t.join(".")];e.hasVersionDiff=o.version!==e.version,e.releaseInfo=o}).catch(function(r){e.hasError=!0})})}}};if(typeof c==="function"){c=c.options}Object.assign(c,function(){var render=function(){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c("div",{staticClass:"k-support"},[_vm.hasError?_c("div",{staticClass:"error"},[_c("k-info-field",{attrs:{"theme":"negative","label":"Ooops","text":"The current version could not be fetched. You may have reached an API limit"}})],1):_c("div",{staticClass:"versionBox"},[_vm.hasVersionDiff?_c("div",[_c("h4",{staticClass:"update-available"},[_vm._v("There is an update available")]),_vm._v(" "),_c("h3",{staticClass:"version"},[_vm._v(_vm._s(this.releaseInfo.version))])]):_c("div",[_c("h4",[_vm._v("Your Komments plugin is up to date")])]),_vm._v(" "),_c("small",{staticClass:"align-center"},[_vm._v("Your installed version is "+_vm._s(this.version))])])])};var staticRenderFns=[];return{render:render,staticRenderFns:staticRenderFns,_compiled:true,_scopeId:null,functional:undefined}}());var d={components:{QueuedKomments:a,SpamKomments:b,Support:c}};if(typeof d==="function"){d=d.options}Object.assign(d,function(){var render=function(){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c("k-view",{staticClass:"k-kommentviews-view"},[_c("k-header",[_vm._v("Komments")]),_vm._v(" "),_c("k-grid",{attrs:{"gutter":"large"}},[_c("k-column",{attrs:{"width":"2/4"}},[_c("k-headline-field",{attrs:{"label":"In moderation"}}),_vm._v(" "),_c("QueuedKomments")],1),_vm._v(" "),_c("k-column",{attrs:{"width":"1/4"}},[_c("k-headline-field",{attrs:{"label":"Marked as spam"}}),_vm._v(" "),_c("SpamKomments")],1),_vm._v(" "),_c("k-column",{attrs:{"width":"1/4"}},[_c("k-headline-field",{attrs:{"label":"Plugin"}}),_vm._v(" "),_c("Support")],1)],1)],1)};var staticRenderFns=[];return{render:render,staticRenderFns:staticRenderFns,_compiled:true,_scopeId:null,functional:undefined}}());var e={props:{label:String,value:String}};if(typeof e==="function"){e=e.options}Object.assign(e,function(){var render=function(){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c("img",{attrs:{"src":_vm.value}})};var staticRenderFns=[];return{render:render,staticRenderFns:staticRenderFns,_compiled:true,_scopeId:null,functional:undefined}}());var f={data:function(){return{pendingKomments:"loading\u2026"}},created:function(){var t=this;this.load(),setInterval(function(){t.load()},6e4)},props:{label:String},methods:{load:function(){var t=this;this.$api.get("komments/queued").then(function(e){t.pendingKomments=e.length})}}};if(typeof f==="function"){f=f.options}Object.assign(f,function(){var render=function(){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c("div",{staticClass:"kommentsPendingCounter"},[_c("k-headline",[_vm._v(_vm._s(_vm.label))]),_vm._v(" "),_c("div",{staticClass:"count"},[_vm._v(_vm._s(_vm.pendingKomments))])],1)};var staticRenderFns=[];return{render:render,staticRenderFns:staticRenderFns,_compiled:true,_scopeId:null,functional:undefined}}());panel.plugin("mauricerenck/komments",{views:{queuedKommments:{component:d,icon:"chat",label:"Komments"}},fields:{gravatar:e,kommentsPending:f}});})();